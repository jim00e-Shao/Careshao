<!doctype html>

<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>çœ‹è­·ç´€éŒ„é¦–é </title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-pink-50 text-slate-800 font-sans">
    <main class="max-w-5xl mx-auto p-6">
      <!-- èªè¨€é¸å–® -->
      <div class="flex flex-wrap items-center justify-center gap-2 mb-4">
        <button data-lang="zh" class="lang-btn active rounded-full px-3 py-1 text-sm font-semibold bg-white/80 border border-pink-200 shadow hover:shadow-md">âœ”ï¸ ä¸­æ–‡</button>
        <button data-lang="en" class="lang-btn rounded-full px-3 py-1 text-sm font-semibold bg-white/60 border border-pink-200 shadow hover:shadow-md">English</button>
        <button data-lang="id" class="lang-btn rounded-full px-3 py-1 text-sm font-semibold bg-white/60 border border-pink-200 shadow hover:shadow-md">Bahasa Indonesia</button>
      </div><header class="mb-6 text-center">
    <h1 id="t-title" class="text-3xl font-bold text-pink-700">çœ‹è­·ç´€éŒ„é¦–é </h1>
    <p id="t-subtitle" class="text-sm text-slate-600 mt-2">ä¸€éµå‰å¾€å„åˆ†é ã€ç™»éŒ„è¡¨å–®ã€å–æ°´é€²åº¦åœ–èˆ‡é«”é‡è®ŠåŒ–åœ–</p>
  </header>

  <script>
    const SHEET_ID = "1keAp5yTtGV0VT9yxkPXVpdhJxGiypiV7DnEZpFgxfBs";
    const FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSdaS6FiOrCdvEp4JXhedfnOuLek-AV9PfzrLbwewLSAmQ-mxg/viewform";
    const baseSheetUrl = (gid) => `https://docs.google.com/spreadsheets/d/${SHEET_ID}/edit#gid=${gid}`;

    // Tabs ä½¿ç”¨ä¸­æ–‡åä½œç‚º keyï¼ˆé€£çµä»æŒ‡å‘åŸ gidï¼‰
    const TABS = [
      { name: "è¡¨å–®å›æ‡‰1", gid: 1997737894 },
      { name: "èº«é«”", gid: 128552717 },
      { name: "è­·ç†", gid: 1985223179 },
      { name: "è¡€å£“", gid: 2010169356 },
      { name: "è¡€ç³–", gid: 1308241683 },
      { name: "å°ä¾¿", gid: 1217043471 },
      { name: "å¤§ä¾¿", gid: 135944068 },
      { name: "è¨ªå®¢", gid: 2061789603 },
      { name: "å¾©å¥", gid: 694319844 },
      { name: "é£²é£Ÿ", gid: 426173260 },
      { name: "å–æ°´", gid: 351311067 },
      { name: "å–æ°´é€²åº¦åœ–", gid: 1529024056 },
      { name: "ä»£è²·", gid: 1520775045 },
      { name: "é«”é‡", gid: 2058618108 },
      { name: "å…¶ä»–", gid: 2066907080 }
    ];

    // åˆ†é åç¨±å°ç…§è¡¨ï¼ˆä¸­æ–‡->è‹±æ–‡/å°å°¼æ–‡ï¼‰
    const TAB_I18N = {
      en: {
        "è¡¨å–®å›æ‡‰1": "Form Responses",
        "èº«é«”": "Body",
        "è­·ç†": "Nursing",
        "è¡€å£“": "Blood Pressure",
        "è¡€ç³–": "Blood Sugar",
        "å°ä¾¿": "Urination",
        "å¤§ä¾¿": "Defecation",
        "è¨ªå®¢": "Visitor",
        "å¾©å¥": "Rehabilitation",
        "é£²é£Ÿ": "Diet",
        "å–æ°´": "Water Intake",
        "å–æ°´é€²åº¦åœ–": "Water Progress Chart",
        "ä»£è²·": "Purchase",
        "é«”é‡": "Weight",
        "å…¶ä»–": "Others"
      },
      id: {
        "è¡¨å–®å›æ‡‰1": "Respon Formulir",
        "èº«é«”": "Tubuh",
        "è­·ç†": "Perawatan",
        "è¡€å£“": "Tekanan Darah",
        "è¡€ç³–": "Gula Darah",
        "å°ä¾¿": "Buang Air Kecil",
        "å¤§ä¾¿": "Buang Air Besar",
        "è¨ªå®¢": "Pengunjung",
        "å¾©å¥": "Rehabilitasi",
        "é£²é£Ÿ": "Pola Makan",
        "å–æ°´": "Minum Air",
        "å–æ°´é€²åº¦åœ–": "Grafik Asupan Air",
        "ä»£è²·": "Titip Beli",
        "é«”é‡": "Berat Badan",
        "å…¶ä»–": "Lainnya"
      }
    };

    // ä»‹é¢ i18n å­—å…¸
    const I18N = {
      zh: {
        title: "çœ‹è­·ç´€éŒ„é¦–é ",
        subtitle: "ä¸€éµå‰å¾€å„åˆ†é ã€ç™»éŒ„è¡¨å–®ã€å–æ°´é€²åº¦åœ–èˆ‡é«”é‡è®ŠåŒ–åœ–",
        feature_form: "ç™»éŒ„è¡¨å–®",
        feature_water: "æ¯æ—¥å–æ°´é€²åº¦åœ–",
        feature_weight: "é«”é‡è®ŠåŒ–åœ–",
        all_tabs: "å…¨éƒ¨åˆ†é ",
        footer: "ğŸ’– è‹¥ç„¡æ³•é–‹å•Ÿï¼Œè«‹ç¢ºèªè©¦ç®—è¡¨èˆ‡è¡¨å–®çš„åˆ†äº«æ¬Šé™å·²è¨­ç‚ºã€ŒçŸ¥é“é€£çµçš„ä»»ä½•äººå¯æª¢è¦–ã€ã€‚"
      },
      en: {
        title: "Care Record Home",
        subtitle: "Quick links to tabs, entry form, water-intake chart, and weight chart",
        feature_form: "Entry Form",
        feature_water: "Daily Water Intake Chart",
        feature_weight: "Weight Change Chart",
        all_tabs: "All Tabs",
        footer: "ğŸ’– If it won't open, make sure sharing is set to 'Anyone with the link can view'."
      },
      id: {
        title: "Beranda Catatan Perawatan",
        subtitle: "Tautan cepat ke tab, formulir entri, grafik asupan air, dan grafik berat badan",
        feature_form: "Formulir Entri",
        feature_water: "Grafik Asupan Air Harian",
        feature_weight: "Grafik Perubahan Berat Badan",
        all_tabs: "Semua Tab",
        footer: "ğŸ’– Jika tidak bisa dibuka, pastikan berbagi disetel ke 'Siapa pun yang memiliki tautan dapat melihat'."
      }
    };

    // ç½®é ‚åŠŸèƒ½æŒ‰éˆ• (æ¨™ç±¤ç”± i18n æ§åˆ¶)
    const FEATURE_BUTTONS = [
      { key: "feature_form", url: FORM_URL, emoji: "ğŸ“", color: "bg-pink-200 hover:bg-pink-300" },
      { key: "feature_water", url: baseSheetUrl(1529024056), emoji: "ğŸ’§", color: "bg-blue-200 hover:bg-blue-300" },
      { key: "feature_weight", url: baseSheetUrl(2058618108), emoji: "âš–ï¸", color: "bg-green-200 hover:bg-green-300" }
    ];

    function getTabDisplayName(zhName, lang) {
      if (lang === 'zh') return zhName;
      const map = TAB_I18N[lang] || {};
      return map[zhName] || zhName; // è‹¥ç„¡ç¿»è­¯ï¼Œé€€å›ä¸­æ–‡
    }

    function renderUI(lang) {
      const t = I18N[lang] || I18N.zh;
      document.getElementById('t-title').textContent = t.title;
      document.getElementById('t-subtitle').textContent = t.subtitle;
      document.getElementById('t-alltabs').textContent = t.all_tabs;
      document.getElementById('t-footer').textContent = t.footer;

      // ç½®é ‚åŠŸèƒ½æŒ‰éˆ•
      const featureWrap = document.getElementById("feature-buttons");
      featureWrap.innerHTML = '';
      FEATURE_BUTTONS.forEach(btn => {
        const a = document.createElement("a");
        a.href = btn.url;
        a.target = "_blank";
        a.rel = "noopener noreferrer";
        a.className = `${btn.color} flex items-center justify-center gap-2 rounded-xl px-4 py-3 shadow hover:shadow-lg transition text-slate-700 font-semibold`;
        a.innerHTML = `<span class=\"text-xl\">${btn.emoji}</span><span>${t[btn.key]}</span>`;
        featureWrap.appendChild(a);
      });

      // èªè¨€æŒ‰éˆ•å¤–è§€
      document.querySelectorAll('.lang-btn').forEach(b=>{
        b.classList.remove('active');
        b.style.opacity = 0.75;
        if (b.dataset.lang === lang) {
          b.classList.add('active');
          b.textContent = (lang==='zh'? 'âœ”ï¸ ä¸­æ–‡' : lang==='en' ? 'âœ”ï¸ English' : 'âœ”ï¸ Bahasa Indonesia');
          b.style.opacity = 1;
        } else {
          b.textContent = (b.dataset.lang==='zh'? 'ä¸­æ–‡' : b.dataset.lang==='en' ? 'English' : 'Bahasa Indonesia');
        }
      })

      // é‡æ–°å»ºæ§‹ Tabsï¼ˆä»¥ç›®å‰èªè¨€é¡¯ç¤ºï¼‰
      buildTabs(lang);
    }

    function initLang() {
      const saved = localStorage.getItem('care-lang') || 'zh';
      renderUI(saved);
      document.querySelectorAll('.lang-btn').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const lang = btn.dataset.lang;
          localStorage.setItem('care-lang', lang);
          renderUI(lang);
        });
      })
    }

    // å»ºç«‹åˆ†é æŒ‰éˆ•ï¼ˆæœƒä¾èªè¨€é¡¯ç¤ºåç¨±ï¼Œä½†é€£çµå›ºå®šå°æ‡‰ gidï¼‰
    function buildTabs(lang = 'zh') {
      const tabsWrap = document.getElementById("tabs-grid");
      tabsWrap.innerHTML = '';
      TABS.forEach(tab => {
        const a = document.createElement("a");
        a.href = baseSheetUrl(tab.gid);
        a.target = "_blank";
        a.rel = "noopener noreferrer";
        a.className = "rounded-xl border border-pink-100 bg-white p-4 shadow hover:shadow-md transition flex items-center justify-between hover:bg-pink-50";
        const displayName = getTabDisplayName(tab.name, lang);
        a.innerHTML = `
          <div class="flex items-center gap-2">
            <span class="text-base font-semibold text-pink-700">${displayName}</span>
          </div>
          <div class="text-pink-400">â¤</div>
        `;
        tabsWrap.appendChild(a);
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      // å…ˆæ¸²æŸ“ä¸­æ–‡ï¼Œå†ç”± initLang è®€å–åå¥½èªè¨€é‡æ¸²æŸ“
      buildTabs('zh');
      initLang();
    });
  </script>

  <!-- ç½®é ‚åŠŸèƒ½æŒ‰éˆ• -->
  <section class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8" id="feature-buttons"></section>

  <!-- å…¨éƒ¨åˆ†é æŒ‰éˆ• -->
  <section>
    <h2 id="t-alltabs" class="text-lg font-semibold mb-3 text-pink-700">å…¨éƒ¨åˆ†é </h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" id="tabs-grid"></div>
  </section>

  <footer id="t-footer" class="mt-10 text-xs text-slate-500 text-center">
    ğŸ’– è‹¥ç„¡æ³•é–‹å•Ÿï¼Œè«‹ç¢ºèªè©¦ç®—è¡¨èˆ‡è¡¨å–®çš„åˆ†äº«æ¬Šé™å·²è¨­ç‚ºã€ŒçŸ¥é“é€£çµçš„ä»»ä½•äººå¯æª¢è¦–ã€ã€‚
  </footer>
</main>

  </body>
</html>